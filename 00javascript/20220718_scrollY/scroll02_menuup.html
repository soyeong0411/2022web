<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>scroll02_menuup</title>
    <link rel="stylesheet" href="../../css/reset.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css" integrity="sha512-KfkfwYDsLkIlwQp6LFnl8zNdLGxu9YAA1QvwINks4PhcElQSvqcyVLLD9aMhXd13uQjoXtEKNosOWaZqXgel0g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <style>
        .menu{width: 1000px;margin: 0 auto;height: 40px;}
        .menu{display: flex;}
        .menu li{flex-grow:1}
        .menu li a{display: flex;justify-content: center;align-items: center;height: 100%;}

        .menu li:hover{background: skyblue;}
        .wrap{background: orchid;transition: .3s;}
        .wrap.fixed{position: fixed;width: 100%;top:0;height: 40px}
        /* fixed되면 width값 사라짐 */

        @media (max-width:600px){
            .menu{width: 100%;}
        }

        .box{position: fixed;width: 100px;height: 100px;background: pink;right: 0;}

        .top{width: 100px;height: 100px;border-radius:50px;background: skyblue;
            position: fixed;right: 10px;bottom: 10px;cursor: pointer;
            display: none;}
            /* display: none은 맨처음에 안보이게 하기 위해 */

    </style>
</head>
<body>
    <div class="box">
        scroll : <span class="scrollY">0</span>
    </div>
    <div class="wrapper">
        <p>001</p>
        <p>002</p>
        <p>003</p>
        <p>004</p>
        <p>005</p>
        <p>006</p>
        <p>007</p>
        <p>008</p>
        <p>009</p>
        <p>010</p>
        <p>011</p>
        <p>012</p>
        <p>013</p>
        <p>014</p>
        <p>015</p>
        <p>016</p>
        <p>017</p>
        <p>018</p>
        <p>019</p>
        <p>020</p>
        <p>021</p>
        <p>022</p>
        <p>023</p>
        <p>024</p>
        <p>025</p>
        <p>026</p>
        <p>027</p>
        <p>028</p>
        <p>029</p>
        <p>030</p>
        <p>031</p>
        <p>032</p>
        <p>033</p>
        <p>034</p>
        <p>035</p>
        <p>036</p>
        <p>037</p>
        <p>038</p>
        <p>039</p>
        <p>040</p>
        <p>041</p>
        <p>042</p>
        <p>043</p>
        <p>044</p>
        <p>045</p>
        <p>046</p>
        <p>047</p>
        <p>048</p>
        <p>049</p>
        <p>050</p>
        <div class="wrap">
            <ul class="menu">
                <li><a href="#">menu1</a></li>
                <li><a href="#">menu2</a></li>
                <li><a href="#">menu3</a></li>
                <li><a href="#">menu4</a></li>
                <li><a href="#">menu5</a></li>
            </ul>
        </div>
        <p>051</p>
        <p>052</p>
        <p>053</p>
        <p>054</p>
        <p>055</p>
        <p>056</p>
        <p>057</p>
        <p>058</p>
        <p>059</p>
        <p>060</p>
        <p>061</p>
        <p>062</p>
        <p>063</p>
        <p>064</p>
        <p>065</p>
        <p>066</p>
        <p>067</p>
        <p>068</p>
        <p>069</p>
        <p>070</p>
        <p>071</p>
        <p>072</p>
        <p>073</p>
        <p>074</p>
        <p>075</p>
        <p>076</p>
        <p>077</p>
        <p>078</p>
        <p>079</p>
        <p>080</p>
        <p>081</p>
        <p>082</p>
        <p>083</p>
        <p>084</p>
        <p>085</p>
        <p>086</p>
        <p>087</p>
        <p>088</p>
        <p>089</p>
        <p>090</p>
        <p>091</p>
        <p>092</p>
        <p>093</p>
        <p>094</p>
        <p>095</p>
        <p>096</p>
        <p>097</p>
        <p>098</p>
        <p>099</p>
    </div>
    
    <div class="top">top</div>

    <script>
        let wrapTop = $(".wrap").offset().top;  // wrap까지 높이값
        console.log(wrapTop)

        $(window).scroll(function(){
            let scrollY = window.pageYOffset  // 스크롤값 구함
            // console.log(scrollY)

            $(".scrollY").html(scrollY)

            if( wrapTop < scrollY){          //wrapTop은 고정값 scrollY는 변수
                console.log("ok")
                $(".wrap").addClass("fixed")
            }else{
                $(".wrap").removeClass("fixed")
            }
            
            if($("body").height()/2 < scrollY){   // body대신 document도 가능
                $(".top").fadeIn()
            }else{
                $(".top").fadeOut()
            }
        })

        $(".top").click(function(){
            $("html,body").animate({scrollTop:0},300)
        })
    </script>
</body>
</html>